# Configuration for NixOs
This configuration is for NixOs.

# Thinks to do

Once installed zsh will not work, need to add `zsh` at the end of the `~/.bashrc`.


# What doesn't work?

# setting up pass for aws
We will use [pass](https://www.passwordstore.org) for setting the credential_process of aws.

```sh
gpg --full-generate-key #we can select defaults

pass init "uid generated by pgp. We can use `pgp --list-keys` to view the uid"

# create the key
pass edit Globick/awscli
```

and we will add this as a password
```json
{
    "Version": 1,
    "AccessKeyId": "some access key",
    "SecretAccessKey": "some secret access key"
} 
  
```

create two files in home
```sh
/home/alfrheim/.awsuser -> User from aws ex: ASEC10EUTCHN
/home/alfrheim/.globickemail -> email of the globick account to put in git
  
```

# Create HomeLab certificate
```sh
    openssl req -x509 -newkey rsa:4096 -days 3650 -nodes \
  -keyout homelab.key \
  -out homelab.crt \
  -subj "/CN=lan" \
  -addext "subjectAltName=DNS:*.lan"

```
